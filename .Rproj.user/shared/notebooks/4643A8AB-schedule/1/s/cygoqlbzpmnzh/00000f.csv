"0","# Function for conditional text transformation"
"0","conditional_transform_fn <- function(icon_name) {"
"0","  function(x) {"
"0","    ifelse(is.na(x) | x == """", """","
"0","           ifelse(grepl(""FUTURE"", x), fontawesome::fa(icon_name, fill_opacity = 0.25),"
"0","                  glue::glue(""<a href = {'http://ps52007d.littlemonkeylab.com'}{x}{'.html'}>{fontawesome::fa(icon_name)}</a>"")"
"0","           )"
"0","    )"
"0","  }"
"0","}"
"0",""
"0","# Main Code"
"0","d |>"
"0","  mutate("
"0","    week = ifelse(is.na(week), """", week),"
"0","    date = ifelse("
"0","      is.na(date) | date == """", "
"0","      """", "
"0","      {"
"0","        temp_date <- as.Date(date, format=""%m/%d/%Y"")"
"0","        paste0(wday(temp_date, label = TRUE, abbr = FALSE), "", "", format(temp_date, ""%d %B""))"
"0","      }"
"0","    )"
"0","  ) |>"
"0","  gt() |>"
"0","  text_transform(cells_body(columns = c(overview)), fn = conditional_transform_fn(""binoculars"")) |>"
"0","  text_transform(cells_body(columns = c(lecture)), fn = conditional_transform_fn(""tv"")) |>"
"0","  text_transform(cells_body(columns = c(lab)), fn = conditional_transform_fn(""users"")) |>"
"0","  text_transform(cells_body(columns = c(worksheets)), fn = conditional_transform_fn(""pencil-ruler"")) |>"
"0","  text_transform(cells_body(columns = c(DangerZone)), fn = conditional_transform_fn(""book"")) |>"
"0","  sub_missing(columns = c(date, topic, notes), missing_text = """") |>"
"0","  cols_align(align = ""center"", columns = c(week, date, overview, lecture, lab, worksheets, DangerZone)) |>"
"0","  cols_align(align = ""left"", columns = c(topic, notes)) |>"
"0","  tab_style("
"0","    style = cell_borders("
"0","      sides = ""right"","
"0","      color = ""#D3D3D3"","
"0","      style = ""solid"""
"0","    ),"
"0","    locations = cells_body("
"0","      columns = c(week, date, topic, overview, lecture, lab, worksheets, DangerZone)"
"0","    )"
"0","  ) |>"
"0","  # Setting text size for 'notes' column"
"0","  "
"0","  tab_style("
"0","    style = htmltools::css(font_size = ""0.9em""),"
"0","    locations = cells_body("
"0","      columns = c(notes)"
"0","    )"
"0","  ) |>"
"0","  "
"0","  # Setting column widths for specified columns"
"0","  tab_style("
"0","    style = htmltools::css(width = ""5%""),"
"0","    locations = cells_body("
"0","      columns = c(overview, lecture, lab, worksheets, DangerZone)"
"0","    )"
"0","  ) |>"
"0","  "
"0","  # Setting column widths for specified columns"
"0","  tab_style("
"0","    style = htmltools::css(width = ""10%""),"
"0","    locations = cells_body("
"0","      columns = c(week, date)"
"0","    )"
"0","  ) |>"
"0","  "
"0","  tab_style("
"0","    style = htmltools::css(font_size = ""0.75em""),"
"0","    locations = cells_body("
"0","      columns = everything()"
"0","    )"
"0","  ) |>"
"0","  fmt_markdown(columns = topic)"
