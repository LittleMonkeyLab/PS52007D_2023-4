---
title: "Schedule"
format: html
listing:
  - id: schedule
    contents:
      - weeks/Week*.qmd
    type: table
    fields: [title, description, subtitle]
    field-display-names:
      title: "Week"
      description: "Dates"
      subtitle: "Topic"
    date-format: "MMMM DD, YYYY"
    sort: [filename]
    sort-ui: true
    filter-ui: true
 #tbl-colwidths: [5,20,50]
editor: visual
---

```{r packages-data, include=FALSE}
library(tidyverse)
library(knitr)
library(kableExtra)
library(fontawesome)


```

Here's your roadmap for the year!

Every class session has four important sections. You should read about
the details for each using the main menu at the top of this webpage.

-   [**Prepare**](/prepare/index.html)
    (<i class="fas fa-magnifying-glass"></i>): This page overviews the
    weeks

-   [**Lecture slides**](/lectures/index.html)
    (<i class="fas fa-chalkboard-teacher"></i>): This page is for
    lectures

-   [**Lab activities**](/reading/index.html)
    (<i class="fas fa-users-gear"></i>): This page is about labs

-   [**Reading**](/Extras/index.html) (<i class="fas fa-bookmark"></i>):
    This page is about Extras

-   [**Mini-Diss**](/Mini-Diss/index.html)
    (<i class="fas fa-book-journal-whills"></i>): This page contains an
    interactive lesson that teaches you the principles and code you need
    to know. Go through these after doing the content.

::: {.row .d-flex .justify-content-center}
::: {.col-12 .col-sm-10 .col-md-6}
::: {.card .bg-danger .text-white}
::: card-body
**tl;dr**: You should follow this general process each week:

-   Check out the overview (<i class="fas fa-magnifying-glass"></i>)
    page and do any thinking/reading/prep suggested if you have the
    chance
-   Come to the lecture (<i class="fas fa-chalkboard-teacher"></i>) page
-   Attend the lab (<i class="fas fa-users-gear"></i>) and get cracking
-   Use the plentiful Mini-Diss resources
    (<i class="fas fa-book-journal-whills"></i>) to help you smash the
    MD
:::
:::
:::
:::

## Weekly schedule

```{r iinstall, echo=FALSE, message=FALSE, warning=FALSE}
library(googlesheets4)
library(gt)
library(tidyverse)
library(lubridate)
library(dplyr)
gs4_deauth()
d <- read_sheet("https://docs.google.com/spreadsheets/d/1C03QNEp_foGSRXncI68DKEpIC1NqLDhv1TffH3hQCA8/edit?usp=sharing", sheet = "draft1")
```

::: column-screen-right
```{r transformations, echo=FALSE}
# Function for conditional text transformation
conditional_transform_fn <- function(icon_name) {
  function(x) {
    ifelse(is.na(x) | x == "", "",
           ifelse(grepl("FUTURE", x), fontawesome::fa(icon_name, fill_opacity = 0.25),
                  glue::glue("<a href = {'http://researchmethods.littlemonkeylab.com'}{x}{'.html'}>{fontawesome::fa(icon_name)}</a>")
           )
    )
  }
}

# Main Code
d |>
  mutate(
    week = ifelse(is.na(week), "", week),
    date = ifelse(
      is.na(date) | date == "", 
      "", 
      {
        temp_date <- as.Date(date, format="%m/%d/%Y")
        paste(wday(temp_date, label = TRUE, abbr = FALSE), ", ", format(temp_date, "%d %B"))
      }
    )
  ) |>
  gt() |>
  text_transform(cells_body(columns = c(prepare)), fn = conditional_transform_fn("magnifying-glass")) |>
  text_transform(cells_body(columns = c(slides)), fn = conditional_transform_fn("person-chalkboard")) |>
  text_transform(cells_body(columns = c(lab)), fn = conditional_transform_fn("users-gear")) |>
  text_transform(cells_body(columns = c(reading)), fn = conditional_transform_fn("bookmark")) |>
  text_transform(cells_body(columns = c(minidiss)), fn = conditional_transform_fn("book-journal-whills")) |>
  sub_missing(columns = c(date, what, topic, notes), missing_text = "") |>
  cols_align(align = "center", columns = c(week, prepare, slides, lab, reading, minidiss)) |>
  cols_align(align = "left", columns = c(date, what, topic, notes)) |>
  tab_style(
    style = cell_borders(
      sides = "right",
      color = "#D3D3D3",
      style = "solid"
    ),
    locations = cells_body(
      columns = c(week, prepare, slides, lab, reading, minidiss)
    )
  ) |>
  # Setting text size for 'notes' column
  
  tab_style(
    style = htmltools::css(font_size = "0.9em"),
    locations = cells_body(
      columns = c(notes)
    )
  ) |>
  
  tab_style(
    style = htmltools::css(font_size = "0.75em"),
    locations = cells_body(
      columns = everything()
    )
  ) |>
  
  # Setting column widths for specified columns
  tab_style(
    style = htmltools::css(width = "5%"),
    locations = cells_body(
      columns = c(prepare, slides, lab, reading, minidiss)
    )
  )

```
:::
